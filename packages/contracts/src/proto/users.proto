syntax = "proto3";

package cb.users;

import "common.proto";
import "google/protobuf/timestamp.proto";

service UsersService {
  rpc FindUser(FindUserRequest) returns (FindUserResponse) {}
  rpc EditProfile(EditProfileRequest) returns (EditProfileResponse) {}
  rpc GetAllUsers(cb.common.Empty) returns (GetAllUsersResponse) {}
}

message FindUserRequest {
  int32 userId = 1;
}

message User {
  int32 id = 1;
  bool verified = 2;
  string email = 3;
  google.protobuf.Timestamp createdAt = 7;
  google.protobuf.Timestamp updatedAt = 8;
}

message FindUserResponse {
  optional User user = 1;
  optional string error = 2;
  bool ok = 3;
}

message Profile {
  string email = 1;
  string password = 2;  
}

message EditProfileRequest {
  int32 userId = 1;
}

message EditProfileResponse {
  optional string error = 1;
  bool ok = 2;
}

message GetAllUsersResponse {
  repeated User users = 1;
  optional string error = 2;
  bool ok = 3;
}